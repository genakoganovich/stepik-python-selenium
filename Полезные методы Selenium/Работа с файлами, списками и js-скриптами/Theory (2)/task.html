<html>
 <head></head>
 <body>
  <h2>Метод execute_script</h2> 
  <p>Рассмотрим еще один очень полезный и мощный метод, но он требует хотя бы минимальных знаний JavaScript. С помощью метода execute_script&nbsp;можно выполнить программу, написанную на языке JavaScript,&nbsp;как часть сценария автотеста в запущенном браузере. Зачем это может понадобиться, если в автотестах мы стараемся взаимодействовать с интерфейсом&nbsp;сайта как обычный пользователь, нажимая кнопки, выбирая пункты меню и вводя текст в текстовые поля?</p> 
  <p>Дело в том, что&nbsp;стандартные методы, доступные в Selenium, не могут покрыть всех возможных ситуаций работы с веб-приложением. Сайты в интернете могут решать самые разные задачи, начиная от простого блога до сложных финансовых или графических приложений. Разработчики имеют доступ к огромному количеству различных библиотек для решения бизнес-сценариев, что приводит к появлению на веб-странице нестандартных редакторов текстов, уникальных меню, оригинальных видео-плееров и т.д. Порой это&nbsp;приводит к тому, что&nbsp;для нажатия вроде бы обычной кнопки тестировщику&nbsp;понадобится писать настоящий JavaScript-сценарий. Если вы столкнулись с такой ситуацией, то в первую очередь обратитесь за помощью к вашим фронтенд-разработчикам, чтобы они&nbsp;подсказали&nbsp; пример нужного скрипта. Прежде чем использовать данный скрипт в тестах, вы можете проверить, как он работает прямо в браузере, выполнив код&nbsp;в консоли браузера. Затем можете&nbsp;добавить его в ваш автотест с помощью execute_script(javascript_code).</p> 
  <p>Давайте попробуем вызвать alert в браузере с помощью WebDriver. Пример сценария:</p> 
  <pre><code class="language-python">from selenium import webdriver
browser = webdriver.Chrome()
browser.execute_script("alert('Robots at work');")</code></pre> 
  <p>Обратите внимание, что исполняемый JavaScript нужно заключать в кавычки (двойные или одинарные). Если внутри скрипта вам также понадобится использовать кавычки,&nbsp;а для выделения скрипта&nbsp;вы уже используете двойные кавычки, то в скрипте следует поставить одинарные:</p> 
  <pre><code class="language-python">browser.execute_script("document.title='Script executing';")</code></pre> 
  <p>Такой формат записи тоже будет работать:</p> 
  <pre><code class="language-python">browser.execute_script('document.title="Script executing";')</code></pre> 
  <p>Можно с помощью этого метода выполнить сразу несколько инструкций, перечислив их через точку с запятой. Изменим сначала заголовок страницы, а затем вызовем alert:</p> 
  <pre><code class="language-python">browser.execute_script("document.title='Script executing';alert('Robots at work');")</code></pre>
 </body>
</html>